# -*- coding: utf-8 -*-
"""salary_app.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1DnOaJFiKD68ULBjEXEreANmoSBlsifAE
"""

import subprocess
subprocess.run(["pip", "install", "streamlit"])

import streamlit as st
import numpy as np
import joblib

# Load model
model = joblib.load("model.pkl")


# Label encodings (must match those used during training)
gender_map = {"Male": 1, "Female": 2}
education_map = {"Bachelors": 0, "Masters": 1, "PhD": 2}

# UI
st.title("ðŸ’¼ Employee Salary Prediction App")
st.write("Enter the following employee details:")

# Input fields
age = st.number_input("Age", min_value=18, max_value=65, value=25)
gender = st.selectbox("Gender", list(gender_map.keys()))
education = st.selectbox("Education Level", list(education_map.keys()))
experience = st.slider("Years of Experience", 0, 40, 1)

# Predict button
if st.button("Predict Salary"):
    # Create input array
    features = np.array([[age,
                          gender_map[gender],
                          education_map[education],
                          experience]])

    # Scale input
    scaled = scaler.transform(features)

    # Predict
    prediction = model.predict(scaled)[0]

    # Show result
    st.success(f"ðŸ’° Predicted Salary: â‚¹{int(prediction):,}")

